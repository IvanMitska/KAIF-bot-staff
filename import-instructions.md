# üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏–º–ø–æ—Ä—Ç—É –∑–∞–¥–∞—á –∏–∑ Google Sheets

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò–º–ø–æ—Ä—Ç —á–µ—Ä–µ–∑ CSV (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π)

1. **–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É –≤ CSV:**
   - –í Google Sheets: –§–∞–π–ª ‚Üí –°–∫–∞—á–∞—Ç—å ‚Üí CSV
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª –∫–∞–∫ `tasks.csv`

2. **–ü–æ–ª—É—á–∏—Ç–µ Telegram ID —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤:**
   ```bash
   # –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –∏ –ø–æ–ø—Ä–æ—Å–∏—Ç–µ –∫–∞–∂–¥–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –Ω–∞–ø–∏—Å–∞—Ç—å /start
   # –í –ª–æ–≥–∞—Ö –±–æ—Ç–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ –∏—Ö Telegram ID
   ```

3. **–û–±–Ω–æ–≤–∏—Ç–µ –º–∞–ø–ø–∏–Ω–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Å–∫—Ä–∏–ø—Ç–µ:**
   –û—Ç–∫—Ä–æ–π—Ç–µ `import-tasks-from-sheets.js` –∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Å–µ–∫—Ü–∏—é USER_MAPPING:
   ```javascript
   const USER_MAPPING = {
       '–ö—Å–µ–Ω–∏—è': { telegramId: '–†–ï–ê–õ–¨–ù–´–ô_ID', name: '–ö—Å–µ–Ω–∏—è' },
       '–ë–æ—Ä–∏—Å': { telegramId: '–†–ï–ê–õ–¨–ù–´–ô_ID', name: '–ë–æ—Ä–∏—Å' },
       // ... –¥–æ–±–∞–≤—å—Ç–µ –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
   };
   ```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–º–ø–æ—Ä—Ç:**
   ```bash
   node import-tasks-from-sheets.js --csv tasks.csv
   ```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä—è–º–æ–π –∏–º–ø–æ—Ä—Ç –∏–∑ Google Sheets

1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Google Cloud:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Google Cloud Console](https://console.cloud.google.com/)
   - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
   - –í–∫–ª—é—á–∏—Ç–µ Google Sheets API
   - –°–æ–∑–¥–∞–π—Ç–µ Service Account
   - –°–∫–∞—á–∞–π—Ç–µ JSON –∫–ª—é—á

2. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–ª—é—á:**
   ```bash
   # –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Å–∫–∞—á–∞–Ω–Ω—ã–π JSON —Ñ–∞–π–ª –∫–∞–∫:
   google-credentials.json
   ```

3. **–î–∞–π—Ç–µ –¥–æ—Å—Ç—É–ø –∫ —Ç–∞–±–ª–∏—Ü–µ:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à—É Google —Ç–∞–±–ª–∏—Ü—É
   - –ù–∞–∂–º–∏—Ç–µ "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è"
   - –î–æ–±–∞–≤—å—Ç–µ email Service Account (–∏–∑ JSON —Ñ–∞–π–ª–∞)
   - –î–∞–π—Ç–µ –ø—Ä–∞–≤–∞ "–ü—Ä–æ—Å–º–æ—Ç—Ä"

4. **–û–±–Ω–æ–≤–∏—Ç–µ ID —Ç–∞–±–ª–∏—Ü—ã –≤ —Å–∫—Ä–∏–ø—Ç–µ:**
   ```javascript
   // –í —Ñ–∞–π–ª–µ import-tasks-from-sheets.js
   const SPREADSHEET_ID = '–í–ê–®_ID_–¢–ê–ë–õ–ò–¶–´';
   // ID –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ URL —Ç–∞–±–ª–∏—Ü—ã
   ```

5. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   npm install googleapis
   ```

6. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–º–ø–æ—Ä—Ç:**
   ```bash
   node import-tasks-from-sheets.js
   ```

## üìä –§–æ—Ä–º–∞—Ç —Ç–∞–±–ª–∏—Ü—ã

–°–∫—Ä–∏–ø—Ç –æ–∂–∏–¥–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–ª–æ–Ω–∫–∏:
- **A**: –ö–∞—Ç–µ–≥–æ—Ä–∏—è (–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥/–ë–∞—Ä/–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–∫–∞)
- **B**: –ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
- **C**: –î–µ—Ç–∞–ª–∏/—à–∞–≥–∏
- **D**: –î–∞—Ç–∞ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏–ª–∏ —Å—Ä–æ–∫
- **E**: –ü—Ä–∏–º–µ—Ä–Ω—ã–π —Å—Ä–æ–∫
- **F**: –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π
- **G**: –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç (—Ü–≤–µ—Ç)
- **H**: –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ—Ç –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
- **I**: –†–µ–∑—É–ª—å—Ç–∞—Ç
- **J**: –°—Ç–∞—Ç—É—Å

## üîß –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å Telegram ID —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –±–æ—Ç–∞
1. –ü–æ–ø—Ä–æ—Å–∏—Ç–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –Ω–∞–ø–∏—Å–∞—Ç—å `/start` –±–æ—Ç—É
2. –í –∫–æ–Ω—Å–æ–ª–∏ –±–æ—Ç–∞ –ø–æ—è–≤–∏—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –µ–≥–æ ID

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É –≤ –±–æ—Ç–µ
–î–æ–±–∞–≤—å—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É –≤ –±–æ—Ç–∞:
```javascript
bot.command('myid', (ctx) => {
    ctx.reply(`–í–∞—à Telegram ID: ${ctx.from.id}`);
});
```

### –°–ø–æ—Å–æ–± 3: –ß–µ—Ä–µ–∑ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
```bash
# –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ SQLite –∫—ç—à:
sqlite3 cache.db "SELECT telegram_id, name FROM users;"
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö ID, –æ–±–Ω–æ–≤–∏—Ç–µ –º–∞–ø–ø–∏–Ω–≥:
```javascript
const USER_MAPPING = {
    '–ö—Å–µ–Ω–∏—è': { telegramId: '123456789', name: '–ö—Å–µ–Ω–∏—è' },
    '–ë–æ—Ä–∏—Å': { telegramId: '987654321', name: '–ë–æ—Ä–∏—Å' },
    '–ë–æ—Ä–∏—Å + –ö—Å–µ–Ω–∏—è': { telegramId: '123456789', name: '–ö—Å–µ–Ω–∏—è' }, // –ù–∞–∑–Ω–∞—á–∞–µ–º –Ω–∞ –ö—Å–µ–Ω–∏—é
    '–ë–æ—Ä–∏—Å + –ò–≤–∞–Ω': { telegramId: '987654321', name: '–ë–æ—Ä–∏—Å' }, // –ù–∞–∑–Ω–∞—á–∞–µ–º –Ω–∞ –ë–æ—Ä–∏—Å–∞
    // –î–æ–±–∞–≤—å—Ç–µ –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö
};
```

## üéØ –õ–æ–≥–∏–∫–∞ –∏–º–ø–æ—Ä—Ç–∞

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –ü–∞—Ä—Å–∏—Ç –¥–∞—Ç—ã (18.08, 1-2 –Ω–µ–¥–µ–ª–∏, 3 –¥–Ω—è)
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
- ‚úÖ –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏
- ‚úÖ –°–æ–∑–¥–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑ –≤—Å–µ—Ö –ø–æ–ª–µ–π
- ‚úÖ –ù–∞–∑–Ω–∞—á–∞–µ—Ç –∑–∞–¥–∞—á–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è–º
- ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –¥–µ–¥–ª–∞–π–Ω (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —á–µ—Ä–µ–∑ –Ω–µ–¥–µ–ª—é)

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```bash
# –ò–º–ø–æ—Ä—Ç –∏–∑ CSV
node import-tasks-from-sheets.js --csv tasks.csv

# –ò–º–ø–æ—Ä—Ç –∏–∑ Google Sheets
node import-tasks-from-sheets.js

# –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É
node import-tasks-from-sheets.js --help
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–ü–µ—Ä–µ–¥ –∏–º–ø–æ—Ä—Ç–æ–º** —Å–¥–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–∞–ø–ø–∏–Ω–≥** - –≤—Å–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Å–∏—Å—Ç–µ–º–µ
3. **–ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏** - 500–º—Å –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ API
4. **–ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏** - –±–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è –∏–ª–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### "–ù–µ –Ω–∞–π–¥–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –∏–º–µ–Ω–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ
- –î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ USER_MAPPING

### "Cannot find module 'googleapis'"
```bash
npm install googleapis
```

### "Error opening file google-credentials.json"
- –°–æ–∑–¥–∞–π—Ç–µ Service Account –≤ Google Cloud
- –°–∫–∞—á–∞–π—Ç–µ JSON –∫–ª—é—á
- –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–∞–∫ `google-credentials.json`

### –ó–∞–¥–∞—á–∏ –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤ –±–æ—Ç–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∏–º–ø–æ—Ä—Ç–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Notion API –∫–ª—é—á –∞–∫—Ç—É–∞–ª–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é: `/sync` –≤ –±–æ—Ç–µ

## üí° –°–æ–≤–µ—Ç—ã

1. **–¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫**: —Å–Ω–∞—á–∞–ª–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ 2-3 –∑–∞–¥–∞—á–∏
2. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å
3. **Batch –∏–º–ø–æ—Ä—Ç**: –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ, –¥—É–±–ª–∏ –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è
4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á**: –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Notion –Ω–∞–ø—Ä—è–º—É—é