# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Railway –¥–ª—è telegram-report-bot

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞ —Å PostgreSQL –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –Ω–∞ Railway –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é DATABASE_URL.

### –®–∞–≥–∏ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Railway Dashboard**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø—Ä–æ–µ–∫—Ç —Å –≤–∞—à–∏–º –±–æ—Ç–æ–º

2. **–í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–≤–∏—Å `telegram-report-bot`**
   - –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–∏—Å –±–æ—Ç–∞ (–Ω–µ –Ω–∞ Postgres!)

3. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É Variables**
   - –í –≤–µ—Ä—Ö–Ω–µ–º –º–µ–Ω—é —Å–µ—Ä–≤–∏—Å–∞ –≤—ã–±–µ—Ä–∏—Ç–µ "Variables"

4. **–î–æ–±–∞–≤—å—Ç–µ Variable Reference**
   - –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Add a Variable Reference"
   - –í –ø–æ—è–≤–∏–≤—à–µ–º—Å—è –æ–∫–Ω–µ –≤—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–≤–∏—Å "Postgres"
   - –í—ã–±–µ—Ä–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `DATABASE_URL`
   - –ù–∞–∂–º–∏—Ç–µ "Add"

5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥—Ä—É–≥–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ**
   –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–∞–∫–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã:
   - `TELEGRAM_BOT_TOKEN` - —Ç–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
   - `NOTION_API_KEY` - –∫–ª—é—á API Notion
   - `NOTION_DATABASE_REPORTS_ID` - ID –±–∞–∑—ã –æ—Ç—á–µ—Ç–æ–≤
   - `NOTION_DATABASE_USERS_ID` - ID –±–∞–∑—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - `NOTION_DATABASE_TASKS_ID` - ID –±–∞–∑—ã –∑–∞–¥–∞—á

6. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ**
   - Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç —Å–µ—Ä–≤–∏—Å –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –ª–æ–≥–∞—Ö –±–æ—Ç–∞ –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:
```
üîó Connecting to Railway PostgreSQL...
‚úÖ Railway PostgreSQL connected successfully!
üìä Database stats: { users: X, reports: X, tasks: X, attendance: X }
```

### –ï—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

–ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:
```
‚ö†Ô∏è DATABASE_URL not configured
‚ö†Ô∏è Using direct Notion API calls (slower but working)
```

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ DATABASE_URL –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω. –ë–æ—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ, —Ç–∞–∫ –∫–∞–∫ –±—É–¥–µ—Ç –Ω–∞–ø—Ä—è–º—É—é –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ Notion API –±–µ–∑ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ DATABASE_URL

–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç DATABASE_URL:
```
postgresql://postgres:PASSWORD@postgres.railway.internal:5432/railway
```

–î–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (–∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å—Ä–µ–¥—ã):
```
postgresql://postgres:PASSWORD@HOST.proxy.rlwy.net:PORT/railway
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É –∫–æ–º–∞–Ω–¥—É `/start`
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–æ–∑–¥–∞—Ç—å –æ—Ç—á–µ—Ç
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –æ—Ç—á–µ—Ç –ø–æ—è–≤–∏–ª—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ PostgreSQL

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –õ–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–∞ telegram-report-bot –≤ Railway
2. –õ–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–∞ Postgres –≤ Railway
3. –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤ (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–µ–ª–µ–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã)