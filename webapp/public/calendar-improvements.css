/* ===== УЛУЧШЕННЫЙ КАЛЕНДАРЬ И МОДАЛЬНЫЕ ОКНА ===== */

/* Улучшенная читаемость модальных окон */
.modal-overlay {
    background: rgba(10, 0, 20, 0.9) !important;
}

.modal-content,
.task-modal-content {
    background: linear-gradient(135deg, 
                rgba(25, 15, 40, 0.98) 0%,
                rgba(40, 15, 35, 0.98) 100%) !important;
    border: 1px solid rgba(255, 255, 255, 0.25) !important;
}

.modal-title,
.modal-header h2 {
    background: linear-gradient(135deg, #e9d5ff 0%, #fbcfe8 100%) !important;
    -webkit-background-clip: text !important;
    -webkit-text-fill-color: transparent !important;
    font-size: 26px !important;
}

.form-label,
.modal-body label {
    color: rgba(255, 255, 255, 0.95) !important;
    font-size: 15px !important;
    font-weight: 500 !important;
}

.form-input,
.modal-body input[type="text"],
.modal-body input[type="date"],
.modal-body textarea {
    background: rgba(255, 255, 255, 0.12) !important;
    border: 1px solid rgba(255, 255, 255, 0.25) !important;
    color: rgba(255, 255, 255, 0.95) !important;
    font-size: 15px !important;
}

.form-input::placeholder,
.modal-body input::placeholder,
.modal-body textarea::placeholder {
    color: rgba(255, 255, 255, 0.6) !important;
}

/* Улучшенный календарь */
.custom-calendar {
    background: linear-gradient(135deg, 
                rgba(25, 15, 40, 0.98) 0%,
                rgba(40, 15, 35, 0.98) 100%) !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
    max-width: 380px !important;
    padding: 24px !important;
}

.calendar-header {
    border-bottom: 1px solid rgba(255, 255, 255, 0.2) !important;
    padding-bottom: 16px !important;
    margin-bottom: 24px !important;
}

.calendar-month-year {
    font-size: 20px !important;
    font-weight: 600 !important;
    color: #fff !important;
    background: linear-gradient(135deg, #e9d5ff 0%, #fbcfe8 100%) !important;
    -webkit-background-clip: text !important;
    -webkit-text-fill-color: transparent !important;
}

.calendar-nav {
    display: flex !important;
    gap: 8px !important;
}

.calendar-nav-btn {
    width: 36px !important;
    height: 36px !important;
    background: rgba(255, 255, 255, 0.15) !important;
    border: 1px solid rgba(255, 255, 255, 0.25) !important;
    border-radius: 10px !important;
    color: #fff !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    cursor: pointer !important;
    transition: all 0.2s !important;
}

.calendar-nav-btn:hover {
    background: rgba(168, 85, 247, 0.3) !important;
    border-color: rgba(168, 85, 247, 0.5) !important;
    transform: scale(1.1) !important;
}

.calendar-nav-btn.today-btn {
    background: linear-gradient(135deg, 
                rgba(168, 85, 247, 0.25) 0%,
                rgba(236, 72, 153, 0.25) 100%) !important;
}

.calendar-nav-btn.today-btn:hover {
    background: linear-gradient(135deg, 
                rgba(168, 85, 247, 0.4) 0%,
                rgba(236, 72, 153, 0.4) 100%) !important;
}

.calendar-weekdays {
    display: grid !important;
    grid-template-columns: repeat(7, 1fr) !important;
    gap: 8px !important;
    margin-bottom: 16px !important;
}

.calendar-weekday {
    font-size: 13px !important;
    font-weight: 600 !important;
    color: rgba(255, 255, 255, 0.8) !important;
    text-align: center !important;
    padding: 8px 0 !important;
}

.calendar-days {
    display: grid !important;
    grid-template-columns: repeat(7, 1fr) !important;
    gap: 8px !important;
}

.calendar-day {
    min-height: 42px !important;
    background: rgba(255, 255, 255, 0.1) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    border-radius: 10px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    cursor: pointer !important;
    transition: all 0.2s !important;
    font-size: 15px !important;
    font-weight: 500 !important;
    color: rgba(255, 255, 255, 0.95) !important;
}

.calendar-day:hover:not(.other-month):not(.selected) {
    background: rgba(168, 85, 247, 0.25) !important;
    border-color: rgba(168, 85, 247, 0.5) !important;
    transform: scale(1.1) !important;
    color: #fff !important;
}

.calendar-day.other-month {
    background: rgba(255, 255, 255, 0.03) !important;
    border-color: rgba(255, 255, 255, 0.08) !important;
    color: rgba(255, 255, 255, 0.3) !important;
    cursor: default !important;
}

.calendar-day.today {
    background: linear-gradient(135deg, 
                rgba(168, 85, 247, 0.35) 0%,
                rgba(236, 72, 153, 0.35) 100%) !important;
    border: 2px solid rgba(168, 85, 247, 0.7) !important;
    color: #fff !important;
    font-weight: 700 !important;
    box-shadow: 0 0 20px rgba(168, 85, 247, 0.4) !important;
}

.calendar-day.selected {
    background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%) !important;
    border: 2px solid transparent !important;
    color: #fff !important;
    font-weight: 700 !important;
    transform: scale(1.05) !important;
    box-shadow: 
        0 5px 25px rgba(139, 92, 246, 0.6),
        0 0 40px rgba(236, 72, 153, 0.4) !important;
}

/* Улучшенный выпадающий список */
.custom-dropdown-menu {
    background: linear-gradient(135deg, 
                rgba(25, 15, 40, 0.98) 0%,
                rgba(40, 15, 35, 0.98) 100%) !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
    backdrop-filter: blur(30px) saturate(150%) !important;
}

.custom-dropdown-trigger {
    background: rgba(255, 255, 255, 0.12) !important;
    border: 1px solid rgba(255, 255, 255, 0.25) !important;
    color: rgba(255, 255, 255, 0.95) !important;
    font-size: 15px !important;
    font-weight: 500 !important;
}

.dropdown-value {
    color: #fff !important;
}

.custom-dropdown-option {
    color: rgba(255, 255, 255, 0.95) !important;
    font-size: 15px !important;
    font-weight: 500 !important;
    background: transparent !important;
    padding: 14px 20px !important;
}

.custom-dropdown-option:hover {
    background: rgba(168, 85, 247, 0.25) !important;
}

.custom-dropdown-option.selected {
    background: linear-gradient(90deg, 
                rgba(168, 85, 247, 0.3) 0%,
                rgba(236, 72, 153, 0.3) 100%) !important;
    color: #fff !important;
}

/* Индикаторы приоритета */
.priority-indicator {
    width: 12px !important;
    height: 12px !important;
    border-radius: 50% !important;
    display: inline-block !important;
    margin-right: 10px !important;
}

.priority-indicator.high {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%) !important;
    box-shadow: 0 0 15px rgba(239, 68, 68, 0.6) !important;
}

.priority-indicator.medium {
    background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%) !important;
    box-shadow: 0 0 15px rgba(251, 191, 36, 0.6) !important;
}

.priority-indicator.low {
    background: linear-gradient(135deg, #34d399 0%, #10b981 100%) !important;
    box-shadow: 0 0 15px rgba(52, 211, 153, 0.6) !important;
}

/* Мобильная адаптация календаря */
@media (max-width: 480px) {
    .custom-calendar.show {
        position: fixed !important;
        bottom: 0 !important;
        left: 0 !important;
        right: 0 !important;
        top: auto !important;
        transform: translateY(0) !important;
        border-radius: 24px 24px 0 0 !important;
        max-width: 100% !important;
        width: 100% !important;
        padding: 28px !important;
        animation: slideUp 0.3s cubic-bezier(0.4, 0.0, 0.2, 1) !important;
    }
    
    .calendar-header {
        padding-bottom: 20px !important;
        margin-bottom: 28px !important;
    }
    
    .calendar-month-year {
        font-size: 22px !important;
    }
    
    .calendar-nav-btn {
        width: 44px !important;
        height: 44px !important;
    }
    
    .calendar-day {
        min-height: 48px !important;
        font-size: 16px !important;
    }
    
    .dropdown-mobile-close {
        margin-top: 24px !important;
        padding: 16px !important;
        font-size: 16px !important;
        background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%) !important;
    }
}

/* Анимация появления */
@keyframes slideUp {
    from {
        transform: translateY(100%);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

/* Датапикер триггер */
.custom-datepicker-trigger {
    background: rgba(255, 255, 255, 0.12) !important;
    border: 1px solid rgba(255, 255, 255, 0.25) !important;
    color: rgba(255, 255, 255, 0.95) !important;
    font-size: 15px !important;
    font-weight: 500 !important;
}

.datepicker-value {
    color: #fff !important;
    font-weight: 500 !important;
}

.calendar-icon {
    color: rgba(168, 85, 247, 0.9) !important;
}

/* Футер календаря */
.calendar-footer {
    margin-top: 20px !important;
    padding-top: 20px !important;
    border-top: 1px solid rgba(255, 255, 255, 0.15) !important;
}

/* Быстрые периоды */
.quick-periods {
    display: flex !important;
    gap: 8px !important;
    margin-bottom: 16px !important;
    flex-wrap: wrap !important;
}

.quick-period-btn {
    padding: 8px 16px !important;
    background: rgba(255, 255, 255, 0.1) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    border-radius: 20px !important;
    color: rgba(255, 255, 255, 0.9) !important;
    font-size: 13px !important;
    font-weight: 500 !important;
    cursor: pointer !important;
    transition: all 0.2s !important;
}

.quick-period-btn:hover {
    background: rgba(168, 85, 247, 0.25) !important;
    border-color: rgba(168, 85, 247, 0.5) !important;
    color: #fff !important;
}

.quick-period-btn.active {
    background: linear-gradient(135deg, 
                rgba(168, 85, 247, 0.3) 0%,
                rgba(236, 72, 153, 0.3) 100%) !important;
    border-color: rgba(168, 85, 247, 0.6) !important;
    color: #fff !important;
}